<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UV Control Dashboard</title>
  <!-- CSS -->
    <link rel="stylesheet" href="/styles/dashboard.css">
  <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
  <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/fc30c7fac3.js" crossorigin="anonymous" defer></script>
</head>
<body class="dashboard">
  <header class="dashboard-header">
<h1 class="dashboard-title gradient-text">
  Welcome, <%= user.name || user.email %>
</h1>
  </header>

  <main class="dashboard-content">
    <section class="dashboard-section">
      <h2 class="section-title">Why Control UV Radiation?</h2>
      <p class="section-text">
        Monitoring UV radiation helps prevent sunburn, premature aging, and skin cancer.
      </p>
    </section>

    <section class="dashboard-section">
      <h2 class="section-title gradient-text">7-Day UV Forecast</h2>
      <p class="section-text">[Map & forecast data coming soon]</p>
    </section>

    <section class="dashboard-section">
      <h2 class="section-title">Shop UV Protection Products</h2>
      <p class="section-text">[Product listing coming soon]</p>
    </section>

    <section class="dashboard-section">
      <h2 class="section-title">Scientific Information</h2>
      <p class="section-text">[Educational resources about solar radiation coming soon]</p>
    </section>
  </main>

  <section class="dashboard-logout">
    <button id="logout-btn" class="btn logout-btn gradient-text">Logout</button>
  </section>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDw-cQW1UQp9Qom0R4nFnksx66xlghgTy8",
      authDomain: "uv-control.firebaseapp.com",
      projectId: "uv-control",
      storageBucket: "uv-control.appspot.com",
      messagingSenderId: "1066833623282",
      appId: "1:1066833623282:web:b65c79cb811a9ace36386b",
      measurementId: "G-NTKJD6LLN0"
    };

  // ✅ Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const auth = getAuth(app);

  // ✅ Logout button logic
  document.getElementById("logout-btn").addEventListener("click", async () => {
    await signOut(auth); // Firebase client logout
    window.location.href = "/logout"; // Backend clears cookie and redirects to login
  });
</script>


</body>
</html>